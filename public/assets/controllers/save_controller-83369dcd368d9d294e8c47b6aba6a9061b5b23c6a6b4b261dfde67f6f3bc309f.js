import{Controller}from"@hotwired/stimulus";export default class extends Controller{static targets=["svg"];async saveJob(){const o=this.svgTarget,t=o.querySelector("path"),e=o.dataset.jobId;t&&("#1f2937"===t.getAttribute("fill")?(t.setAttribute("fill","orange"),await this.addJobToBookmarks(e)):(t.setAttribute("fill","#1f2937"),await this.removeJobFromBookmarks(e)))}async addJobToBookmarks(o){try{if(!(await fetch("/bookmarks",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({job_id:o})})).ok)throw new Error("Failed to add job to bookmarks")}catch(o){console.error("Error adding job to bookmarks:",o)}}async removeJobFromBookmarks(o){try{if(!(await fetch(`/bookmarks/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}})).ok)throw new Error("Failed to remove job from bookmarks")}catch(o){console.error("Error removing job from bookmarks:",o)}}}